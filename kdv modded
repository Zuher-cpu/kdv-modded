-- Krystal Dance V3, Made by Hemi (es muy janky)
local lol = math.random(1,30)
if lol == 2 then 
	lol = true 
end
local idleanim = is:LoadLocalAsset("rbxassetid://74204337812128") -- uuid. 136078657506707
local walkanim = is:LoadLocalAsset("rbxassetid://73688515498572") -- uuid. 130213485744288
local sprintanim = is:LoadLocalAsset("rbxassetid://73688515498572") -- uuid. 119558526211035
local randompart = Instance.new("Part",game:GetService("RunService"))
local coolparticles = game:GetObjects("rbxassetid://87299663038091")[1].ParticleAttachment
coolparticles.Parent = randompart
local playbacktrack = true 
local script = Instance.new("LocalScript")
real = true
pcall(function()
	local OxideApi = loadstring(game:HttpGet("https://raw.githubusercontent.com/somethingsimade/Utils/refs/heads/main/OxideApi"))()
	OxideApi.Notification("Krystal Dance V3, Made by Hemi, fixed by MrY7zz",10)
end)
local playanother = false
local playing = false
local dancing = false
local rtrnv;
local c;
local tbl3;
local v;
local anim;
local count;
local hhhh;
local asdf;
local s;
local animid;
local plr;
local legitjustran = false
local loopsplaying=0 
local rst 
local lst
local rht 
local lht 
local nt 
local rjt
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local cframe;
local torso;
local rs;
local ls;
local rh;
local lh;
local n;
local rj;
local rsc0;
local lsc0;
local rhc0;
local lhc0;
local rjc0;
local nc02;
local gc0;
local orsc0;
local olsc0;
local orhc0;
local olhc0;
local orjc0;
local onc0;
local count2;
local maxcount2;
local walking = false
local idle = false
local char=game:GetService("Players").LocalPlayer.Character
local RunService = game:GetService("RunService")
local hum=char:FindFirstChildOfClass("Humanoid")
local h=char.Head
local t=char.Torso
local hrp=char.HumanoidRootPart 
if char:FindFirstChild("Animate") then
	char.Animate.Enabled = false
end
for i, v in pairs(hum:GetPlayingAnimationTracks()) do
	v:Stop()
end
local function getnext(tbl, number)
	local best = math.huge
	local r
	for t in pairs(tbl) do
		local d = t - number
		if d > 0 and d < best then
			best = d
			r = t
		end
	end
	if not r then
		for t in pairs(tbl) do
			if not r or t < r then
				r = t
			end
		end
	end
	return r
end

local function wait2(tim)
	if tim<0.1 then
		game:GetService("RunService").Heartbeat:Wait()
	else
		for i=1,tim*40 do
			game:GetService("RunService").Heartbeat:Wait()
		end
	end
end
local function kftotbl(kf) -- Below this is literal pain..
	tbl3 = {}
	for i,v in pairs(kf:GetDescendants()) do
		if v:IsA("Pose") then
			tbl3[string.sub(v.Name,1,1)..string.sub(v.Name,#v.Name,#v.Name)] = v.CFrame
		end
	end
	return(tbl3)
end
local plr = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

local function functionToBind()
	char.Humanoid:Move(Vector3.new(0,0,-1),false)
end
local script = Instance.new("Script")
ArtificialHB = Instance.new("BindableEvent",script)
ArtificialHB.Name = "Heartbeat"
script:WaitForChild("Heartbeat")
frame = 1 / 60
tf = 0
allowframeloss = false
tossremainder = false
lastframe = tick()
script.Heartbeat:Fire()
game:GetService("RunService").Heartbeat:Connect(function(s,p)
	tf = tf + s
	if tf >= frame then
		if allowframeloss then
			script.Heartbeat:Fire()
			lastframe = tick()
		else
			for i = 1,math.floor(tf / frame) do
				pcall(function()
					script.Heartbeat:Fire()
				end)
			end
			lastframe = tick()
		end
		if tossremainder then
			tf = 0
		else
			tf = tf - frame * math.floor(tf / frame)
		end
	end
end)
function swait(num)
	if num == 0 or num == nil then
		ArtificialHB.Event:Wait()
	else
		for i = 0,num do
			ArtificialHB.Event:Wait()
		end
	end
end

function fwait(seconds)
	seconds = (seconds < 0.000001) and 0.000001 or seconds -- absolute limit of roblox, anything below just crashes lol so this limits it so it doesnt crash

	local event = game:GetService("RunService").PreRender or game:GetService("RunService").Heartbeat

	local startTime = tick()
	while tick() - startTime < seconds do
		event:Wait()
	end
end		

local function makeanimlibrary()
	local RunService = game:GetService("RunService")

	local __EasingStyles__ = Enum.EasingStyle
	local __EasingDirections__ = Enum.EasingDirection
	local __Enum__PoseEasingStyle__ = #"Enum.PoseEasingStyle."
	local __Enum__PoseEasingDirection__ = #"Enum.PoseEasingDirection."

	local function EasingStyleFix(style)
		local name = string.sub(tostring(style), __Enum__PoseEasingStyle__ + 1)
		return (function()
			local suc, res = pcall(function() return __EasingStyles__[name] end)
			if not suc then
				return Enum.EasingStyle.Linear
			else
				return res
			end
		end)()
	end

	local function EasingDirectionFix(dir)
		local name = string.sub(tostring(dir), __Enum__PoseEasingDirection__ + 1)
		return __EasingDirections__[name] or Enum.EasingDirection.In
	end

	local function ConvertToTable(animationInstance)
		assert(animationInstance and typeof(animationInstance) == "Instance" and animationInstance:IsA("KeyframeSequence"),
			"ConvertToTable requires a KeyframeSequence instance")
		local keyframes = animationInstance:GetKeyframes()
		local sequence = {}
		for i, frame in ipairs(keyframes) do
			local entry = { Time = frame.Time, Data = {} }
			for _, child in ipairs(frame:GetDescendants()) do
				if child:IsA("Pose") and child.Weight > 0 then
					entry.Data[child.Name] = {
						CFrame = child.CFrame,
						EasingStyle = EasingStyleFix(child.EasingStyle),
						EasingDirection = EasingDirectionFix(child.EasingDirection),
						Weight = child.Weight
					}
				end
			end
			sequence[i] = entry
		end
		table.sort(sequence, function(a, b) return a.Time < b.Time end)
		return sequence, animationInstance.Loop
	end

	local function AutoGetMotor6D(model, motorType)
		assert(model and typeof(model) == "Instance" and model:IsA("Model"), "AutoGetMotor6D requires a Model instance")
		local useBone = false
		if motorType == "Bone" then
			useBone = true
		else
			for _, desc in ipairs(model:GetDescendants()) do
				if desc:IsA("Bone") then useBone = true; break end
			end
		end
		local motors = {}
		if useBone then
			for _, bone in ipairs(model:GetDescendants()) do
				if bone:IsA("Bone") then
					motors[bone.Name] = bone
				end
			end
		else
			for _, part in ipairs(model:GetDescendants()) do
				if part:IsA("BasePart") then
					for _, joint in ipairs(part:GetJoints()) do
						if joint:IsA("Motor6D") and joint.Part1 == part then
							motors[part.Name] = joint
							break
						end
					end
				end
			end
		end
		return motors
	end

	local cframe_zero = CFrame.new()
	local UpdateEvent = RunService.PreSimulation

	local AnimLibrary = {}
	AnimLibrary.__index = AnimLibrary

	function AnimLibrary.new(target, keyframeSeq, settings, motorType)
		local self = setmetatable({}, AnimLibrary)
		self.Looped = false
		self.TimePosition = 0
		self.IsPlaying = false
		self.Speed = 1
		self.Settings = settings or {}

		if typeof(target) == "Instance" and target:IsA("Model") then
			self.Motor6D = AutoGetMotor6D(target, motorType)
		else
			self.Motor6D = target
		end

		assert(keyframeSeq, "Animation keyframe sequence required")
		if typeof(keyframeSeq) == "Instance" then
			local seq, looped = ConvertToTable(keyframeSeq)
			self.Animation = seq
			self.Looped = looped
		elseif type(keyframeSeq) == "table" then
			self.Animation = keyframeSeq
		else
			error("Invalid keyframe sequence format")
		end

		self.Length = self.Animation[#self.Animation].Time
		return self
	end

	local function getSurrounding(seq, t)
		local prev, next = seq[1], seq[#seq]
		for i = 1, #seq-1 do
			if seq[i].Time <= t and seq[i+1].Time >= t then
				prev, next = seq[i], seq[i+1]
				break
			end
		end
		return prev, next
	end

	function AnimLibrary:Play()
		if self.IsPlaying then return end
		self.IsPlaying = true
		if self.TimePosition >= self.Length then self.TimePosition = 0 end

		self._conn = UpdateEvent:Connect(function(delta)
			if not self.IsPlaying then return end
			local dt = delta * (self.Speed or 1)
			local pos = self.TimePosition + dt
			if pos > self.Length then
				if self.Looped then
					pos = pos - self.Length
				else
					pos = self.Length
					self:Stop()
					return
				end
			end
			self.TimePosition = pos

			local prev, next = getSurrounding(self.Animation, pos)
			local span = next.Time - prev.Time
			local alpha = span > 0 and (pos - prev.Time)/span or 0
			for joint, prevData in pairs(prev.Data) do
				local nextData = next.Data[joint] or prevData
				local ease = game:GetService("TweenService"):GetValue(alpha, nextData.EasingStyle, nextData.EasingDirection)
				local cf1, cf2 = prevData.CFrame, nextData.CFrame
				local cf = cf1:Lerp(cf2, ease)
				local motor = self.Motor6D[joint]
				if motor then motor.Transform = cf end
			end
		end)
	end

	function AnimLibrary:Stop()
		self.IsPlaying = false
		if self._conn then self._conn:Disconnect(); self._conn = nil end
		for _, motor in pairs(self.Motor6D) do motor.Transform = cframe_zero end
	end

	AnimLibrary.AutoGetMotor6D = AutoGetMotor6D
	AnimLibrary.KeyFrameSequanceToTable = ConvertToTable
	return AnimLibrary
end



local animplayer = makeanimlibrary()
local currentanim = nil
local iscurrentadance = nil
local rigTable = animplayer.AutoGetMotor6D(char, "Motor6D")
local function playanim(id, speed, isadance, custominstance)
    local asset
    
    if type(id) == "string" and full:FindFirstChild(id) then
        asset = full:FindFirstChild(id)
    elseif type(id) == "string" and full.DanceLookup and full.DanceLookup:FindFirstChild(id) then
        asset = full:FindFirstChild(full.DanceLookup[id].Value)
    elseif custominstance then
        asset = custominstance
    else
        asset = is:LoadLocalAsset(id)
    end
	
	if isadance then
		if iscurrentadance then
			if currentanim then
				if not iscurrentadance then
					iscurrentadance = true
					local keyframeTable = animplayer.GenerateKeyframe(asset)
					currentanim = animplayer.new(keyframeTable, asset, nil, settings, "Motor6D")
					currentanim.Speed = speed or 1
					
					currentanim.Looped = true
					currentanim:Play(0)
				else
					currentanim:Stop()
				end
			else
				iscurrentadance = true
				local keyframeTable = animplayer.KeyFrameSequanceToTable(asset)

				currentanim = animplayer.new(keyframeTable, asset, nil, nil, "Motor6D")
				
				currentanim.Speed = speed or 1
				currentanim.Looped = true
				currentanim:Play(0)
			end
		end
	else
		iscurrentadance = false
		if currentanim then
			currentanim:Stop()
		end
		local keyframeTable = animplayer.KeyFrameSequanceToTable(asset)

		currentanim = animplayer.new(rigTable, asset, nil, nil, "Motor6D")

		currentanim.Looped = true
		currentanim:Play(0)
	end
end


local function choose()
	local choice = math.random(1, 3)
	if choice == 1 then
		return "rbxassetid://35930009"
	elseif choice == 2 then
		return "rbxassetid://1846368080"
	elseif choice == 3 then
		return "rbxassetid://17422147220"
	end
end
wait(.1)
playbacktrack=true
local function stopanim()
	if loopsplaying>0 then 
		loopsplaying-=1
	end
	playanother = true 
	playanother = true 
	playanother = true 
	playanother = true 
	if dancing then
		sound69.PlaybackSpeed = 1
		if playbacktrack == true then 
            sound69:Stop()
			sound69.SoundId = DanceAsset("Sphere.mp3")
			sound69.Volume = .75
			sound69.TimePosition=timeposcur
		else 
			sound69:Stop()
		end
	end
	
	coolparticles.Parent = randompart
	pcall(function()
		rst:Cancel()
		rht:Cancel()
		lht:Cancel()
		lst:Cancel()
		nt:Cancel()
		rjt:Cancel()
	end)
	
	if dancing == true then 
		dancing = false
		idle = true 
		char.Humanoid:Move(Vector3.new(0,0,-1),true)
		walking = false 
		wait(.065)
		if playbacktrack and not dancing then
            sound69.TimePosition=timeposcur
			sound69.SoundId = DanceAsset("Sphere.mp3")
			sound69.Volume = .75
			sound69:Play()
		end
		
		if walking == true and idle == false and char.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and dancing == false and playanother==true then 
			task.spawn(function()
				playanim(74204337812128,1,false) -- uuid.
			end)
		end
	end
end


INPUTLOOP = uis.InputBegan:Connect(function(k,chatting)
	if char.Humanoid.Sit == true then return end
	if chatting then return end 
	local k = string.lower(string.gsub(tostring(k.KeyCode),"Enum.KeyCode.",""))
	if mode == 1 then 
		if k == "q" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("rat.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Rat1", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Rat1.lua")
				Info("Rat1","Q")
				sound69:Play()
				if dance then
				playanim(dance) -- uuid. 106353328250763
				end
			else
				stopanim()
			end
		elseif k == "e" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("FunkedUp.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Boogie","E")
				playanim(122471664395501) -- uuid. 16769959846
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "r" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Assumptions.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Assumptions", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Assumptions.lua")
				sound69:Play()
				Info("Assumptions","R")
				if dance then
				playanim(dance) -- uuid. 136962185637891
				end
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "t" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Egypt.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Egypt", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Egypt.lua")
				sound69:Play()
				Info("Egypt","T")
				if dance then
				playanim(dance) -- uuid. 130968726197789
				end
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "y" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("DO THE FLOP.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Flop", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Flop.lua")
				sound69:Play()
				Info("Flop","Y")
				if dance then 
				playanim(dance) -- uuid. 100864643591096
				end
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "u" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("caramell.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Caramell","U")
				playanim(114964447248296) -- uuid. 103597509139287
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "f" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Heel.mp3")
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("HeelToeHop", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/HeelToeHop.lua")
				sound69:Play()
				Info("Heel Toe Hop","F")
				if dance then
				playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "g" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("gangnamm.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Gangnam","G")
				playanim(133530633475679) -- uuid. 12438774071
			else
				stopanim()

			end
		elseif k == "p" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Monkey.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("BombMonkey", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Bomb Monkey.lua")
				Info("Bomb Monkey","P")
				sound69:Play()
				if dance then
				playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "j" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("dancingin.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Starlit","J")
				playanim(136139381223407) -- uuid. 96444866125796
			else
				stopanim()

			end
		elseif k == "k" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("dr.wav")
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("DR","K")
				playanim(110403709064010,2) -- uuid. 12637912409
			else
				char.Humanoid.WalkSpeed = 14*char:GetScale()
				stopanim()

			end
		elseif k == "l" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("griddy.mp3")
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Griddy","L")
				playanim(114928062507098) -- uuid. 15704995372
			else
				char.Humanoid.WalkSpeed = 14*char:GetScale()
				stopanim()

			end
		elseif k == "z" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("lux.ogg")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Lux","Z")
				playanim(94534967284996) -- uuid. 15092317950
			else
				stopanim()

			end
		elseif k == "x" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("kazot.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Kazot","X")
				playanim(86634257330162,1) -- uuid. 114036336168567
			else
				stopanim()

			end
		elseif k == "h" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Domino.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Domino", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Domino.lua")
				sound69:Play()
				Info("Domino","H")
				if dance then 
				playanim(dance) -- impossible for now
				end
			else
				stopanim()

			end
		elseif k == "v" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Liar.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Liar", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Liar.lua")
				sound69:Play()
				Info("Liar","V")
				if dance then
				playanim(dance) -- uuid. 16361564081
				end
			else
				stopanim()

			end

		elseif k == "c" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Mesmerizer.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Mesmerizer", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Mesmerizer.lua")
				sound69:Play()
				Info("Mesmerizer","C")
				if dance then
				playanim(dance) -- uuid. 118766274919427
				end
			else
				stopanim()

			end
		elseif k == "n" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Box.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("BoxSwing", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Box Swing.lua")
				sound69:Play()
				Info("Box Swing","N")
				if dance then
				playanim("BoxSwing")
				end
			else
				stopanim()

			end

		elseif k == "comma" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Static.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Static", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Static.lua")
				sound69:Play()
				Info("Static",",")
				if dance then 
				playanim(dance) -- uuid. 131401099812672
				end
			else
				stopanim()

			end
		elseif k == "leftbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Prism.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Prism", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Prism Shuffle.lua")
				sound69:Play()
				Info("Prism","[")
				if dance then
				playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "rightbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Headlock.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Headlock", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Headlock.lua")
				sound69:Play()
				Info("Headlock","]")
				if dance then
				playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "b" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("TUCA DONKA.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Hakari", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Hakari.lua")
				sound69:Play()
				Info("Hakari","B")
				if dance then 
				     playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "minus" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Break.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Commercial", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Commercial.lua")
				sound69:Play()
				Info("Commercial","-")
				if dance then
				playanim("Commercial")
				end
			else
				stopanim()

			end
		end
	end
	if mode == 2 then 
		if k == "q" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("XO.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("XO","Q")
				playanim(89807443968447) -- uuid. 73559770055600
			else
				stopanim()

			end 
		elseif k == "e" then
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Soda.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Soda", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Soda Pop.lua")
				sound69:Play()
				Info("Soda","E")
				if dance then
				playanim(dance) -- uuid. 100177280567649
				end
			else
				stopanim()

			end 
		elseif k == "r" then
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("LoveForU.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("L4U", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Love4U.lua")
				sound69:Play()
				Info("L4U","R")
				if dance then
				playanim(dance) -- uuid. 101564911432113
				end
			else
				stopanim()

			end 
		elseif k == "t" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("assum.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Assumptions","R")
				playanim(129275138998868) -- uuid. 15705077587
			else
				stopanim()

			end
		elseif k == "y" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("balls.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Peashooter","Y")
				playanim(124616782933406) -- uuid. 15039779727
			else
				stopanim()

			end
		elseif k == "h" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Distraction.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Distraction", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Distraction.lua")
				sound69:Play()
				Info("Distraction","H")
				if dance then 
				playanim(dance)
				end
			else
				stopanim()

			end
		elseif k == "g" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("ItBurns.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("ItBurns", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/It Burns.lua")
				sound69:Play()
				Info("ItBurns","G")
				if dance then
				playanim(dance) -- uuid. 14887006269
				end
			else
				stopanim()

			end
		elseif k == [[f]] then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("chronoshift.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Chronoshift", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Chronoshift.lua")
				sound69:Play()
				Info("Chronoshift","F")
				if dance then 
				playanim(dance) -- uuid. 125834337223799
				end
			else
				stopanim()

			end
		elseif k == "j" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("KeepUp.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Keep", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Keep Up.lua")
				sound69:Play()
				Info("Keep Up","J")
				coolparticles.Parent = char.Torso
				if dance then 
				playanim(dance) -- uuid. 93585895457618
				end
			else
				stopanim()
				sound69.PlaybackSpeed = 1

			end
		elseif k == "k" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Boombox.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Boombox","K")
				playanim(92629504992703) -- uuid. 84471848998012
			else
				stopanim()

			end
		elseif k == "u" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("bloodpop.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Bloodpop","U")
				playanim(82472212108809) -- uuid. 132026285699359
			else
				stopanim()

			end
		elseif k == "n" then 
			if dancing == false then 
				stopanim()
				dancing = true
				sound69.SoundId = DanceAsset("Sit.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Sit", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Sit.lua")
				sound69:Play()
				char.Humanoid.WalkSpeed = 0*char:GetScale()
				Info("Sit","N")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "z" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("leftright.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Two","Z")
				playanim(107261816578577) -- uuid. 137845929482571
			else
				stopanim()

			end    
		elseif k == "x" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("heavylove.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Heavylove","X")
				playanim(101332118847458) -- uuid. 85856686932206
			else
				stopanim()

			end
		elseif k == "c" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Million.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Million","C")
				playanim(109123683211464)
			else
				stopanim()
			end
		elseif k == "v" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Bjean.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("BillieJean", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/BillieJean.lua")
				sound69:Play()
				Info("BJ","V")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "b" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Savor.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Savor", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Savor.lua")
				sound69:Play()
				Info("Savor","B")
				if dance then 
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "p" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Yamero.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Yamero", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Yamero.lua")
				sound69:Play()
				Info("Yamero","P")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "comma" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("InternetAngel.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Angel", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Angel.lua")
				sound69:Play()
				Info("Angel",",")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "minus" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("CLUB PENGUIN DANCE.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("ClubPenguin", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Club Penguin.lua")
				sound69:Play()
				Info("Club","-")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "leftbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Runaway.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Runaway", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Runaway.lua")
				sound69:Play()
				Info("Runaway","[")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "rightbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("MioHonda.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Miohonda", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Miohonda.lua")
				sound69:Play()
				Info("MioHonda","]")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		elseif k == "l" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Firework.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Firework", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Firework.lua")
				sound69:Play()
				Info("Firework","L")
				if dance then
				playanim(dance) -- uuid. 118311613925473
				end
			else
				stopanim()
			end
		end 
	end
	if mode == 3 then 
		if k == "q" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("C14.mp3")
				timeposcur = sound69.TimePosition  
				local dance=LoadDance("C14", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/C14.lua")
				sound69:Play()
				Info("C14","Q")
				if dance then 
				playanim(dance) -- uuid. 72723551972407
				end
			else
				stopanim()
			end
		elseif k == "e" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Slickback.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Slickback", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Slickback.lua")
				sound69:Play()
				Info("Slickback","E")
				if dance then
				playanim(dance) -- uuid. 90069083924245
				end
			else
				stopanim()
			end
		elseif k == "r" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Doodle.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Doodle", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Doodle.lua")
				sound69:Play()
				Info("Doodle","R")
				if dance then
				playanim(dance) -- uuid. 13357063395
				end
			else
				stopanim()
			end
		elseif k == "t" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Goat.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Goat", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Goat.lua")
				sound69:Play()
				Info("Goat","T")
				if dance then
				playanim(dance) -- uuid. 87342159331194
				end
			else
				stopanim()
			end
		elseif k == "y" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Bumblebee.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Bumblebee", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Bumblebee.lua")
				sound69:Play()
				Info("Bumblebee","Y")
				if dance then
				playanim(dance) -- uuid. 18985726113
				end
			else
				stopanim()
			end
		elseif k == "u" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Stock.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Stock", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Stock Shuffle.lua")
				sound69:Play()
				Info("Stock","U")
				if dance then
				playanim(dance) -- uuid. 8915458946
				end
			else
				stopanim()
			end
		elseif k == "p" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("rat.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Rat2", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Rat2.lua")
				sound69:Play()
				Info("Rat2","P")
				if dance then
				playanim(dance) -- uuid. 8915458946
				end
			else
				stopanim()
			end
		elseif k == "f" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Shuba Duck.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Shuba",
				"https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Shuba Duck.lua")
				sound69:Play()
				Info("Shuba Duck","F")
				     if dance then
				playanim(dance) -- uuid. 79630525228564
				end
			else
				stopanim()
			end
		elseif k == "g" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Lemon.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Lemon","G")
				playanim(138510336377177,.8) -- uuid. 120262284704633
			else
				stopanim()
			end
		elseif k == "h" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Birdbrain.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Birdbrain", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Birdbrain.lua")
				Info("Birdbrain","H")
				sound69:Play()
				if dance then
				playanim(dance) -- uuid. 84471848998012
				end
			else
				stopanim()
			end
		elseif k == "j" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Fein.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Fein", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Fein.lua")
				sound69:Play()
				Info("Fein","J")
				if dance then
				playanim(dance) -- uuid. 13357063395
				end
			else
				stopanim()
			end
		elseif k == "k" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Popipo.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Popipo", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Popipo.lua")
				sound69:Play()
				Info("Popipo","K")
				if dance then
				playanim(dance) -- uuid. 13357063395
				end
			else
				stopanim()
			end
		elseif k == "l" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Pickup.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Pickup", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Pickup.lua")
				sound69:Play()
				Info("Pickup","L")
				if dance then
				playanim(dance) -- uuid. 13357063395
				end
			else
				stopanim()
			end
		elseif k == "z" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Billy.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Billy", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Billy.lua")
				sound69:Play()
				Info("Yourself","Z")
				if dance then
				playanim(dance) -- uuid. 15705077587
				end
			else
				stopanim()
			end
		elseif k == "x" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("rotten.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Sinful","X")
				playanim(89457637802764,2) -- uuid. 109990576374190
			else
				stopanim()
			end
		elseif k == "c" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Spooky.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Spooky", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Spooky.lua")
				sound69:Play()
				Info("Spooky","C")
				if dance then
				playanim(dance) -- uuid. 84587788869282
				end
			else
				stopanim()
			end
		elseif k == "v" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("JK.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Limited", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Limited.lua")
				sound69:Play()
				Info("JK","V")
				if dance then
				playanim(dance) -- uuid. 100305033962391
				end
			else
				stopanim()
			end
		elseif k == "b" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Flexworks.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Flexworks", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Flexworks.lua")
				sound69:Play()
				Info("KJ","B")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
		elseif k == "n" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("CrissCross.mp3")
				sound69.PlaybackSpeed = 1
				timeposcur = sound69.TimePosition 
				sound69:Play()
				--Dance_48=LoadDance("CrissCross", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/CrissCross.lua")
				Info("CrissCross","N")
				playanim(109275255555630) -- uuid. 136962185637891
			else
				stopanim()
			end
		elseif k == "comma" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("brain.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Brain",",")
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				playanim(93547721311170) -- uuid. 71723925114737
			else
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				stopanim()
			end
		elseif k == "leftbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("espresso.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Espresso","[")
				playanim(87342159331194) -- uuid. 71723925114737
			else
				stopanim()
			end
		elseif k == "rightbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("rakuten.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Rakuten","]")
				playanim(121967347012647) -- uuid. 71723925114737
			else
				stopanim()
			end
		elseif k == "minus" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("tort.mp3")
				timeposcur = sound69.TimePosition 
				sound69:Play()
				Info("Tort","-")
				playanim(99811468921857) -- uuid. 71723925114737
			else
				stopanim()
			end
		end 
	end
	if mode == 4 then
			if k == "q" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Unlockit.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Unlockit", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Unlockit.lua")
				sound69:Play()
				Info("Unlockit","Q")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "e" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("SmoothMoves.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("SmoothMoves", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/SmoothMoves.lua")
				sound69:Play()
				Info("Smooth Moves","E")
				if dance then
				playanim(dance) -- 
				end
			else
				stopanim()
			end
			elseif k == "r" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Lagtrain.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Lagtrain", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Lagtrain.lua")
				sound69:Play()
				Info("Lagtrain","R")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "t" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Suki.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Suki", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Suki.lua")
				sound69:Play()
				Info("Suki","T")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "y" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Cafeteria.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Cafeteria", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Cafeteria.lua")
				sound69:Play()
				Info("Cafeteria","Y")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "u" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Dare.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Dare", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Dare.lua")
				sound69:Play()
				Info("Dare","U")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "p" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Tenna.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Tenna", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Tenna.lua")
				sound69:Play()
				Info("Tenna 1","P")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "f" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Insanity.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Insanity", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Insanity.lua")
				sound69:Play()
				Info("Insanity","F")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "g" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Tenna.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Tenna2", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Tenna 2.lua")
				sound69:Play()
				Info("Tenna 2","G")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "h" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Rambunctious.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Rambunctious", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Rambunctious.lua")
				sound69:Play()
				Info("Rambunctious","H")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "j" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Side Shuffle.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Sideshuffle", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Side Shuffle.lua")
				sound69:Play()
				Info("Side Shuffle","J")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "k" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Electro Swing.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Electro", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Electro Swing.lua")
				sound69:Play()
				Info("Electo","K")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "l" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("MioHonda.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Step", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Step.lua")
				sound69:Play()
				Info("Step","L")
				char.Humanoid.WalkSpeed = 4*char:GetScale()
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "z" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Apple Pen.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Applepen", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Apple Pen.lua")
				sound69:Play()
				Info("Apple Pen","Z")
				if dance then 
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "x" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Crank.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Crankthat", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Crank That.lua")
				sound69:Play()
				Info("Crank","X")
				if dance then
				playanim(dance) -- uuid. 71723925114737
				end
			else
				stopanim()
			end
			elseif k == "c" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("TakeDown.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Takedown", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Takedown.lua")
				Info("TakeDown","C")
				sound69:Play()
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "v" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Down.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Down", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Going Down.lua")
				sound69:Play()
				Info("Down","V")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "b" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Spamton.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Spamton", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Spamton.lua")
				sound69:Play()
				Info("Spamton","B")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "n" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Kemusan.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Kemusan", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Kemusan.lua")
				sound69:Play()
				Info("Kemusan","N")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "comma" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("ImOk.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("ImOk", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/ImOk.lua")
				sound69:Play()
				Info("Im Ok",",")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "minus" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Igaku.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Igaku", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Igaku.lua")
				sound69:Play()
				Info("Igaku","-")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "leftbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Headlock.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Headlock2", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Headlock2.lua")
				Info("Headlock 2","[")
				sound69:Play()
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
			elseif k == "rightbracket" then 
			if dancing == false then 
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Guli.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Guli", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Guli.lua")
				sound69:Play()
				Info("Guli Guli","]")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
		end
	end
	if mode == 5 then
	     if k == "q" then
			if dancing == false then
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Results.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Results", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Results.lua")
				sound69:Play()
				Info("Results","Q")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
	     elseif k == "e" then
			if dancing == false then
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Static.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Static2", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Static2.lua")
				sound69:Play()
				Info("Static 2","E")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
	     elseif k == "r" then
			if dancing == false then
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Billy.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Billy2", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Billy2.lua")
				sound69:Play()
				Info("Billy 2","R")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
	     elseif k == "t" then
			if dancing == false then
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Yell.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Yell", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Yell.lua")
				sound69:Play()
				Info("Yell 3","T")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
	     elseif k == "y" then
			if dancing == false then
				stopanim()
				dancing = true
				task.wait(.005)
				sound69.SoundId = DanceAsset("Yell1.mp3")
				timeposcur = sound69.TimePosition 
				local dance=LoadDance("Yell1", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Yell1.lua")
				sound69:Play()
				Info("Yell 3","Y")
				if dance then
				playanim(dance) 
				end-- uuid. 71723925114737
			else
				stopanim()
			end
	     end
	end
	if k == "equals" then 
		playbacktrack = not playbacktrack
		if dancing == false then 
			if playbacktrack == true then 
			--	sound69:Play()
			  	sound69.Volume = .75
			  	game:GetService("StarterGui"):SetCore("SendNotification", {
			  		Title = "Krystal Dance V3";
			  		Duration = 5;
			  		Text = "Background music enabled"
			  	})
			else 
				sound69.Volume=0
				game:GetService("StarterGui"):SetCore("SendNotification", {
					Title = "Krystal Dance V3";
					Duration = 5;
					Text = "Background music disabled"
				})
			end
		end
	end
	if k == "leftcontrol" then 
		sprinting = not sprinting
	end
if k == "m" then
if mode == 4 then 
mode = 5 
game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "Page 5"
})
Page.Text="5"
elseif mode == 3 then 
mode = 4
  game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "Page 4"
})
Page.Text="4"
elseif mode == 2  then
    mode = 3 
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "Page 3"
})
Page.Text="3"
elseif mode == 1 then
        mode = 2 
    game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "Page 2"
})
Page.Text="2"
elseif mode == 5  then 
    mode = 1
    game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Krystal Dance V3";
	Duration = 5;
	Text = "Page 1"
})
Page.Text="1"
    end
end
end)








STATES=char.Humanoid:GetPropertyChangedSignal("MoveDirection"):Connect(function()
	if char.Humanoid.Sit == false then 
		if char.Humanoid.MoveDirection == Vector3.new(0,0,0) and dancing == false and idle == false then
			walking = false
			idle = true
			stopanim()
			fwait(1/500)
			if idle == true and walking == false and char.Humanoid.MoveDirection == Vector3.new(0,0,0) and dancing == false and playanother==true then
				playanim(0,1,false,idleanim )
			end
		elseif char.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and dancing == false and walking == false then 
			char.Humanoid.WalkSpeed = 14*char:GetScale()
			walking = true
			idle = false
			stopanim()
			fwait(1/500)
			if sprinting == false then 
				char.Humanoid.WalkSpeed = 14*char:GetScale()
				if walking == true and idle == false and  char.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and dancing == false and playanother==true  then 
					playanim(130213485744288,1,false,walkanim)
				end
			else
				char.Humanoid.WalkSpeed = 24*char:GetScale()
				if walking == true and idle == false and  char.Humanoid.MoveDirection ~= Vector3.new(0,0,0) and dancing == false and playanother==true  then 
				     local dance=LoadDance("Sprint", "https://raw.githubusercontent.com/Solary-3/Scripts/refs/heads/main/Sprint.lua")
				     if dance then
					playanim(dance,2.2,false)
					end
				end
			end
		end
	end
end)
SITTING=char.Humanoid:GetPropertyChangedSignal("Sit"):Connect(function()
	print("sit")
	if char.Humanoid.Sit == true then 
		stopanim()

		math.randomseed(os.clock())
		if math.random(1,2) == 1 then 
			playanim(133312100962627,1,false)
		else 
			playanim(122775909441631,1,false)
		end
	else 
		stopanim()
		task.wait(.05)
		stopanim()
		char.Humanoid:Move(Vector3.new(0,0,-1),true)
		char.Humanoid:Move(Vector3.new(0,0,-1),true)
		char.Humanoid:Move(Vector3.new(0,0,-1),true)
	end
end)

local RunService = game:GetService("RunService")
local Player = game:GetService("Players").LocalPlayer
local PlayerMouse = Player:GetMouse()
local Camera = workspace.CurrentCamera
local Character =char
local Humanoid = Character:WaitForChild("Humanoid")
local IsR6 = (Humanoid.RigType == Enum.HumanoidRigType.R6)
local Head = Character:WaitForChild("Head")
local Torso = if IsR6 then Character:WaitForChild("Torso") else Character:WaitForChild("UpperTorso")
local Neck = if IsR6 then Torso:WaitForChild("Neck") else Head:WaitForChild("Neck")
local Waist = if IsR6 then nil else Torso:WaitForChild("Waist")
local NeckOriginC0 = Neck.C0
local WaistOriginC0 = if Waist then Waist.C0 else nil
Neck.MaxVelocity = 1/3
local AllowedStates = {Enum.HumanoidStateType.Running, Enum.HumanoidStateType.Climbing, Enum.HumanoidStateType.Swimming, Enum.HumanoidStateType.Freefall, Enum.HumanoidStateType.Seated}
local IsAllowedState = (table.find(AllowedStates, Humanoid:GetState()) ~= nil)
local find = table.find
local atan = math.atan
local atan2 = math.atan2
Humanoid.StateChanged:Connect(function(_, new)
	IsAllowedState = (find(AllowedStates, new) ~= nil)
end)
local oldC0N = Neck.C0
local updatesPerSecond = 10
local Character = char 
local Root = char.HumanoidRootPart
introsound = Instance.new("Sound",Root)
introsound.SoundId = "rbxassetid://236146895"
introsound.Volume = 1
introsound:Play()
bigfedora = Instance.new("Part",Character)
bigfedora.Size = Vector3.new(2,2,2)
bigfedora.CFrame = bigfedora.CFrame:inverse() * Root.CFrame * CFrame.new(math.random(-60,60),-.2,math.random(-60,60)) * CFrame.Angles(0,math.rad(math.random(-180,180)),0)
bigfedora.CanCollide = false
bigfedora.Anchored = true
bigfedora.Name = "mbigf"
mbigfedora = Instance.new("SpecialMesh", bigfedora)
mbigfedora.MeshType = "FileMesh"
mbigfedora.Scale = Vector3.new(5, 5, 5)
mbigfedora.MeshId,mbigfedora.TextureId = 'http://www.roblox.com/asset/?id=1125478','http://www.roblox.com/asset/?id=1125479'
for i = 1, 60 do
	bigfedora.CFrame = bigfedora.CFrame:lerp(CFrame.new(Root.Position) * CFrame.new(0,-.1,0) * CFrame.Angles(math.rad(0),math.rad(0),math.rad(0)),.09)
	task.wait(1/60)
end
wait(.25)
for i = 1, 50 do
	bigfedora.CFrame = bigfedora.CFrame:lerp(CFrame.new(char.Head.Position),.05)
	task.wait(1/60)
end
zmc = 0
for i = 1, 29 do
	zmc = zmc + 2
	mbigfedora.Scale = mbigfedora.Scale - Vector3.new(.25,.25,.25)
	bigfedora.CFrame = bigfedora.CFrame * CFrame.Angles(math.rad(0),math.rad(zmc),0)
	task.wait(1/60)
end
bigfedora:Remove()
local nim= 0
char.Humanoid.Died:Connect(function()
	sound69.PlaybackSpeed = 0
	sound69.Parent = nil 
	sound69.Volume = 0
end)
local hum = char.Humanoid
local cf = CFrame.new
local DIEDLOOP 
local HEADLOOP
repeat 
	char.Humanoid:Move(Vector3.new(0,0,-1),true)
	task.wait(1/60)
	nim=nim+1
until nim==3
UPDATE=RunService.RenderStepped:Connect(function(deltaTime: number)
	local function Alpha(n)
		return math.clamp(n*deltaTime*60,0,1)
	end
	hum.CameraOffset =  hum.CameraOffset:Lerp((hrp.CFrame*cf(0,1.5,0)):PointToObjectSpace(h.Position),Alpha(.15))
	if IsAllowedState  and dancing == false then
		local HeadPosition = Head.Position
		if Neck then
			local MousePos = PlayerMouse.Hit.Position
			local TranslationVector = (HeadPosition - MousePos).Unit
			local Pitch = atan(TranslationVector.Y)
			local Yaw = TranslationVector:Cross(Torso.CFrame.LookVector).Y
			local Roll = atan(Yaw)

			local NeckCFrame
			if IsR6 then
				NeckCFrame = CFrame.Angles(Pitch, 0, Yaw)
			else
			   	NeckCFrame = CFrame.Angles(-Pitch * 0.5, Yaw, -Roll * 0.5)				
			   	local waistCFrame = CFrame.Angles(-Pitch * 0.5, Yaw * 0.5, 0)
			   	Waist.C0 = Waist.C0:Lerp(WaistOriginC0 * waistCFrame, updatesPerSecond * deltaTime)
			end			
			Neck.C0 = Neck.C0:Lerp(NeckOriginC0 * NeckCFrame, updatesPerSecond * deltaTime)
		end
	elseif dancing == true then 
	   	Neck.C0 = oldC0N
	end	
	if char.Humanoid.MoveDirection == Vector3.new(0,0,0) then 
		walking = false 
		idle = true 
	else 
		walking = true 
		idle = false 
	end
end)


end)


Stop1.MouseButton1Click:Connect(function()
if RUNNING then
RUNNING=false
local tweenInfo = TweenInfo.new(1.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tween = game:GetService("TweenService"):Create(CurrentFrame, tweenInfo, {Position = UDim2.new(0.385, 0, 1.15, 0)})
tween:Play()
end
Forcestop()
Run1.Position = UDim2.new(0, 0, 0.629999971, 0)
if UPDATE then
     UPDATE:Disconnect()
     UPDATE=nil
end
if STATES then 
     STATES=nil 
end
if SITTING then
     SITTING=nil
end 
if INPUTLOOP then
     INPUTLOOP:Disconnect()
     INPUTLOOP=nil
end
if sprinting then
     sprinting=false
end
--wait(1)
game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync("1")
end)
